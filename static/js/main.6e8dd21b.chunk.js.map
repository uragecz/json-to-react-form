{"version":3,"sources":["../../src/helpers.tsx","../../src/components/formComponents/Title.tsx","../../src/components/form/FormInput.tsx","../../src/inputHelpers.tsx","../../src/components/form/FormLayout.tsx","../../src/components/formComponents/SelectInput.tsx","../../src/components/formComponents/TextInput.tsx","../../src/components/HtmlParser.tsx","../../src/components/form/Form.tsx","../../src/components/formComponents/Checkbox.tsx","../../src/components/formComponents/Button.tsx","../../src/components/formComponents/TextArea.tsx","../../src/components/formComponents/DatePicker.tsx","../../src/index.tsx","App.tsx","index.tsx"],"names":["getTransformedValidation","validation","transformedValidation","pattern","value","RegExp","sameAs","validate","getValues","Title","children","classes","formProps","className","classNames","FormInput","input","form","onButtonClick","onInputChange","isSubmitLoading","register","component","hidden","placeholder","type","disabled","title","options","defaultValue","componentProps","customProps","text","inputName","basicInputProps","name","getControlledComponentProps","onChange","fields","e","getSelectSelectedValue","getBasicComponentProps","isLoading","buttonProps","onClick","formInputProps","shouldUnregister","inputProps","style","display","flex","correctDefaultValue","selectedValue","o","item","getSelectDefaultValue","rules","control","render","field","renderComponent","React","layout","label","unit","labelPosition","flexDirection","position","getFlexDirectionForLabelPosition","HtmlParser","html","safeHtml","sanitizeHtml","dangerouslySetInnerHTML","__html","mapFormInput","TextInput","useState","isPasswordVisible","setPasswordVisible","error","SelectInput","splittedOptions","group","flatten","getSimpleOptions","key","option","Checkbox","id","console","log","htmlFor","marginLeft","Button","TextArea","height","rows","DatePicker","inputs","onSubmit","layoutComponent","components","formName","_form","useForm","mode","watch","handleSubmit","getInputPropsForRepeatableForm","formField","watchers","Layout","props","renderInput","renderChildren","i1","i2","index","sortedInputs","justifyContent","i","validationMode","App","basicValidationInputs","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6e8dd21b.chunk.js","sourcesContent":["import { ValidationValueMessage } from \"react-hook-form\";\nimport { Validation, Validations } from \"./types\";\n\nexport const getTransformedValidation = (\n  getValues: (field: string) => string,\n  validation?: Validations,\n) => {\n  if (validation == null) {\n    return {};\n  }\n\n  let transformedValidation = {\n    ...validation,\n    pattern: validation.pattern && {\n      ...validation.pattern,\n      value: new RegExp(\n        (validation.pattern as ValidationValueMessage).value as string,\n        \"i\"\n      ),\n    },\n  };\n\n  if (validation.validate && validation.validate.sameAs) {\n    const sameAs = validation.validate.sameAs;\n    transformedValidation = {\n      ...transformedValidation,\n      validate: {\n        sameAs: (value: string) =>\n          getValues((sameAs as Validation).value) === value || (sameAs as Validation).message,\n      },\n    };\n  }\n  return transformedValidation;\n};\n","import classNames from 'classnames'\nimport React from 'react'\nimport { TitleFormProps } from '../../types'\n\ninterface Props {\n  children?: React.ReactNode\n  formProps: TitleFormProps\n}\n\nconst Title = ({ children, formProps: { classes } }: Props) => {\n  return (\n    <span className={classNames('jtrf-title', classes?.title)}>{children}</span>\n  )\n}\n\nexport default Title\n","import React, { ChangeEvent } from 'react'\nimport {\n  Controller,\n  ControllerRenderProps,\n  FieldValues,\n  UseFormReturn\n} from 'react-hook-form'\nimport { getTransformedValidation } from '../../helpers'\nimport {\n  getSelectDefaultValue,\n  getSelectSelectedValue\n} from '../../inputHelpers'\nimport { Option, Input, Classes } from '../../types'\nimport Title from '../formComponents/Title'\n\ninterface Props {\n  children: any\n  onInputChange?: (value: any, name: string) => void\n  onButtonClick?: (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    name: string\n  ) => void\n  input: Input\n  form: UseFormReturn<FieldValues>\n  isSubmitLoading?: boolean\n  classes?: Classes\n}\n\nconst FormInput = ({\n  children,\n  input,\n  form,\n  onButtonClick,\n  onInputChange,\n  isSubmitLoading,\n  classes\n}: Props) => {\n  const { register, getValues } = form\n  const {\n    component,\n    validation,\n    hidden,\n    placeholder,\n    type,\n    disabled,\n    title,\n    options,\n    defaultValue,\n    componentProps,\n    customProps,\n    text,\n  } = input\n  const inputName = input.name as string\n  const basicInputProps = {\n    placeholder,\n    type,\n    name: inputName,\n    disabled: disabled === 'true',\n  }\n\n  const getControlledComponentProps = (\n    fields: ControllerRenderProps<FieldValues, string>\n  ) => {\n    switch (component) {\n      case 'SelectInput':\n        return {\n          ...basicInputProps,\n          ...fields,\n          type: basicInputProps.type || 'select',\n          options,\n          onChange: (e: React.ChangeEvent<HTMLSelectElement> | Option) => {\n            fields.onChange(e)\n            onInputChange?.(getSelectSelectedValue(e), inputName)\n          }\n        }\n      case 'DatePicker':\n        return {\n          ...basicInputProps,\n          ...fields,\n          type: basicInputProps.type || 'date',\n          onChange: (date: Date) => {\n            fields.onChange(date)\n            onInputChange?.(date, inputName)\n          }\n        }\n      default:\n        return {}\n    }\n  }\n\n  const getBasicComponentProps = () => {\n    // Button component shouldn't be registred\n    if (component === 'Button') {\n      return {\n        title: title || '',\n        isLoading: isSubmitLoading,\n        buttonProps: {\n          ...basicInputProps,\n          disabled: basicInputProps.disabled || isSubmitLoading,\n          onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n            onButtonClick?.(e, inputName)\n          }\n        }\n      }\n    }\n\n    const formInputProps = register(inputName, {\n      ...getTransformedValidation(getValues, validation),\n      shouldUnregister: true\n    })\n\n    switch (component) {\n      case 'TextInput': {\n        return {\n          inputProps: {\n            ...formInputProps,\n            onChange: (e: ChangeEvent<HTMLInputElement>) => {\n              onInputChange?.(e.target.value, inputName)\n              formInputProps.onChange(e)\n            }\n          }\n        }\n      }\n      case 'TextArea': {\n        return {\n          inputProps: {\n            ...formInputProps,\n            onChange: (e: ChangeEvent<HTMLTextAreaElement>) => {\n              onInputChange?.(e.target.value, inputName)\n              formInputProps.onChange(e)\n            }\n          }\n        }\n      }\n      case 'Checkbox': {\n        return {\n          inputProps: {\n            ...formInputProps,\n            onChange: (e: ChangeEvent<HTMLInputElement>) => {\n              onInputChange?.(e.target.checked, inputName)\n              formInputProps.onChange(e)\n            }\n          },\n          text\n        }\n      }\n      default: {\n        return {}\n      }\n    }\n  }\n\n  const renderComponent = () => {\n    switch (component) {\n      case 'Title': {\n        return <Title formProps={{ classes, form, customProps }}>{title}</Title>\n      }\n      case 'DatePicker':\n      case 'SelectInput': {\n        const correctDefaultValue =\n          component === 'SelectInput'\n            ? getSelectDefaultValue(options, defaultValue)\n            : defaultValue\n\n        return (\n          <Controller\n            name={inputName}\n            rules={getTransformedValidation(getValues, validation)}\n            defaultValue={correctDefaultValue}\n            control={form.control}\n            render={({ field }) =>\n              React.cloneElement(children, {\n                ...componentProps,\n                formProps: {\n                  inputProps: {\n                    ...getControlledComponentProps(field),\n                    defaultValue: correctDefaultValue\n                  },\n                  form,\n                  customProps\n                }\n              })\n            }\n          />\n        )\n      }\n      default: {\n        return React.cloneElement(children, {\n          ...componentProps,\n          formProps: {\n            form,\n            ...getBasicComponentProps(),\n            customProps\n          }\n        })\n      }\n    }\n  }\n\n  return (\n    <div style={{ display: hidden ? 'none' : 'flex', flex: 1 }}>\n      {renderComponent()}\n    </div>\n  )\n}\n\nexport default FormInput\n","import { Option, GroupOption } from './types'\n\nexport const getSelectSelectedValue = (\n  e: Option | React.ChangeEvent<HTMLSelectElement>\n) => {\n  // for react-select\n  if ((e as Option).value) {\n    return (e as Option).value\n  }\n  return (e as React.ChangeEvent<HTMLSelectElement>).target.value\n}\n\nexport const getSelectDefaultValue = (options?: Option[] | GroupOption[], defaultValue?: number | string) => {\n  let selectedValue: Option | null | undefined = null\n  if (options?.length && defaultValue) {\n    // if it's grouped options\n    if ((options[0] as GroupOption).options) {\n      ;(options as GroupOption[]).map((o) => {\n        o.options.map((item) => {\n          if (item.value === defaultValue) {\n            selectedValue = item\n          }\n        })\n      })\n    } else {\n      selectedValue = (options as Option[]).find(\n        (o: Option) => o.value === defaultValue\n      )\n    }\n  }\n  return selectedValue\n}\n\nexport const inputsWithController = ['SelectInput', 'DatePicker']\n","import classNames from 'classnames'\nimport React from 'react'\nimport { LabelPosition } from '../../types'\n\nimport './layout.css'\n\nexport interface LayoutProps {\n  layout: [number, number]\n  children: React.ReactNode\n  label?: string\n  labelPosition?: LabelPosition\n  unit?: string\n}\n\nconst FormLayout = ({\n  layout,\n  children,\n  label,\n  unit,\n  labelPosition = 'left'\n}: LayoutProps) => {\n  const getFlexDirectionForLabelPosition = (position?: LabelPosition): any => {\n    switch (position) {\n      case 'top':\n        return 'column'\n      case 'bottom':\n        return 'column-reverse'\n      case 'right':\n        return 'row-reverse'\n      default:\n        return ''\n    }\n  }\n\n  return (\n    <div\n      className={classNames('jtrf-input-layout')}\n      style={{\n        flexDirection: getFlexDirectionForLabelPosition(labelPosition)\n      }}\n    >\n      <div\n        className={classNames(`jtrf-input-layout__label-container`)}\n        style={{\n          // @ts-ignore\n          '--label-flex': layout[0],\n          '--label-align': labelPosition === 'left' ? 'flex-end' : 'flex-start',\n          '--label-margin':\n            labelPosition === 'left' ? '0 16px 0 0' : '0 0 0 16px'\n        }}\n      >\n        {!!label && (\n          <span className={classNames('jtrf-input-layout__label')}>\n            {label}\n          </span>\n        )}\n      </div>\n      <div\n        className={classNames(`jtrf-input-layout__input-container`)}\n        style={{\n          // @ts-ignore\n          '--input-flex': layout[1]\n        }}\n      >\n        {children}\n        {unit && (\n          <span className={classNames('jtrf-input-layout__unit')}>{unit}</span>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(FormLayout)\n","import React from 'react'\nimport { flatten } from 'rambda'\nimport classNames from 'classnames'\nimport { ReactComponent as ErrorSVG } from '../../icons/error.svg'\n\nimport './input.css'\nimport { GroupOption, InputFormProps, Option } from '../../types'\n\ninterface Props {\n  formProps: InputFormProps\n}\n\nconst SelectInput = ({ formProps }: Props) => {\n  const { inputProps, form, classes } = formProps\n  const error = form.formState.errors[inputProps.name]\n\n  const getSimpleOptions = () => {\n    const { options } = inputProps\n    if ((options?.[0] as GroupOption).options) {\n      const splittedOptions = (options as GroupOption[])?.map((group) => [\n        ...group.options\n      ])\n      return flatten(splittedOptions as [])\n    }\n    return inputProps.options as Option[]\n  }\n\n  return (\n    <div className='jtrf-input-container'>\n      <select\n        {...inputProps}\n        className={classNames(\n          'jtrf-input-container__input',\n          'jtrf-input-container__input--select',\n          classes?.input,\n          {\n            'jtrf-input-container__input--error': !!error,\n            [classes?.inputError || '']: !!error && classes?.inputError\n          }\n        )}\n      >\n        {getSimpleOptions().map((option: Option) => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n      {error && (\n        <div\n          className={classNames(\n            'jtrf-input-container__error-container',\n            classes?.errorContainer\n          )}\n        >\n          <ErrorSVG\n            className={classNames(\n              'jtrf-input-container__error-icon',\n              classes?.errorIcon\n            )}\n          />\n          <span\n            className={classNames(\n              'jtrf-input-container__error-message',\n              classes?.errorMessage\n            )}\n          >\n            {error.message}\n          </span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SelectInput\n","import React, { useState } from 'react'\nimport { InputFormProps } from '../../types'\nimport { ReactComponent as ErrorSVG } from '../../icons/error.svg'\nimport { ReactComponent as ShowSVG } from '../../icons/eye.svg'\nimport classNames from 'classnames'\n\nimport './input.css'\n\ninterface Props {\n  formProps: InputFormProps\n}\n\nconst TextInput = ({ formProps }: Props) => {\n  const [isPasswordVisible, setPasswordVisible] = useState(false)\n  const { inputProps, form, classes } = formProps\n  const { type, name } = inputProps\n  const error = form.formState.errors[name]\n\n  return (\n    <div className='jtrf-input-container'>\n      <input\n        {...inputProps}\n        className={classNames(\n          'jtrf-input-container__input',\n          'jtrf-input-container__input--text-input',\n          classes?.input,\n          {\n            'jtrf-input-container__input--error': !!error,\n            [classes?.inputError || '']: !!error && classes?.inputError\n          }\n        )}\n        type={\n          type === 'password' ? (isPasswordVisible ? 'text' : 'password') : type\n        }\n      />\n      {type === 'password' && (\n        <button\n          className={classNames(\n            'jtrf-input-container__pswd-button',\n            classes?.pswdButton\n          )}\n          type='button'\n          onClick={() => setPasswordVisible((prevState) => !prevState)}\n        >\n          <ShowSVG />\n        </button>\n      )}\n      {error && (\n        <div\n          className={classNames(\n            'jtrf-input-container__error-container',\n            classes?.errorContainer\n          )}\n        >\n          <ErrorSVG\n            className={classNames(\n              'jtrf-input-container__error-icon',\n              classes?.errorIcon\n            )}\n          />\n          <span\n            className={classNames(\n              'jtrf-input-container__error-message',\n              classes?.errorMessage\n            )}\n          >\n            {error.message}\n          </span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default TextInput\n","import React from 'react';\nimport sanitizeHtml from 'sanitize-html';\n\nexport const prepositions = (value: string) => {\n    return value\n      ? value.replace(\n          /(\\s|^)(a|i|k|o|s|u|v|z)(\\s(a|i|k|o|s|u|v|z))?(\\s+)/gim,\n          '$1$2$3\\u00A0',\n        )\n      : '';\n  };\n\ninterface Props {\n  html?: string | null;\n  style?: {};\n}\n\nconst HtmlParser = ({ html, style }: Props) => {\n  if (html == null) {\n    return null;\n  }\n  const safeHtml = sanitizeHtml(prepositions(html));\n  return <div dangerouslySetInnerHTML={{ __html: safeHtml }} style={style} />;\n};\n\nexport default HtmlParser;\n","import React, { FunctionComponent } from 'react'\nimport { FieldValues, useForm, UseFormReturn } from 'react-hook-form'\nimport {\n  ButtonFormProps,\n  Classes,\n  Components,\n  Input,\n  InputFormProps,\n  Item\n} from '../../types'\nimport FormInput from './FormInput'\nimport FormLayout, { LayoutProps } from './FormLayout'\nimport SelectInput from '../formComponents/SelectInput'\nimport TextInput from '../formComponents/TextInput'\nimport Checkbox from '../formComponents/Checkbox'\nimport Button from '../formComponents/Button'\nimport TextArea from '../formComponents/TextArea'\nimport Title from '../formComponents/Title'\nimport DatePicker from '../formComponents/DatePicker'\nimport classNames from 'classnames'\n\nconst mapFormInput = {\n  TextInput,\n  SelectInput,\n  Checkbox,\n  Button,\n  TextArea,\n  Title,\n  DatePicker\n}\n\ninterface Props {\n  onSubmit?: (values: any) => void\n  inputs: Item[] | null\n  layout?: [number, number]\n  form?: UseFormReturn<FieldValues>\n  onButtonClick?: (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    name: string\n  ) => void\n  onInputChange?: (checked: boolean | number | string, name: string) => void\n  validationMode?: 'onBlur' | 'onChange' | 'onSubmit' | 'onTouched' | 'all'\n  layoutComponent?: FunctionComponent<any>\n  components?: Components\n  classes?: Classes\n  // neccessary repetable form\n  fields?: Record<'id', string>[]\n  formName?: string\n}\n\nconst Form = ({\n  inputs,\n  onSubmit,\n  layout = [3, 7],\n  form,\n  onInputChange,\n  onButtonClick,\n  layoutComponent,\n  components = {},\n  formName,\n  fields,\n  classes\n}: Props) => {\n  const _form = form || useForm({ mode: 'onBlur' })\n  const { watch, handleSubmit } = _form\n\n  const getInputPropsForRepeatableForm = (\n    name: string,\n    formIndex: number,\n    formField?: Record<'id', string>\n  ) => {\n    // if it's not repeatableForm\n    if (!formField) {\n      return {}\n    }\n    return {\n      name: `${formName}.${formIndex}.${name}`,\n      defaultValue: (formField as any).value\n    }\n  }\n\n  if (inputs == null) {\n    return null\n  }\n\n  const watchers: { [key: string]: any } = {}\n\n  const Layout = (props: LayoutProps) =>\n    layoutComponent ? (\n      React.createElement(layoutComponent, { ...props })\n    ) : (\n      <FormLayout {...props} />\n    )\n\n  // IT SETS WATCHERS FOR CONDITINAL RENDER\n  inputs.map((input) => {\n    if (input.conditionalChildrenRender && input.name) {\n      watchers[input.name] = watch(input.name)\n    }\n  })\n\n  const renderInput = (\n    input: Item,\n    formIndex: number,\n    formField?: Record<'id', string>\n  ) => {\n    const component = input.component\n      ? components[input.component] || mapFormInput[input.component]\n      : null\n    return (\n      <Layout layout={layout} label={input.label} unit={input.unit}>\n        <FormInput\n          onInputChange={onInputChange}\n          onButtonClick={onButtonClick}\n          classes={classes}\n          input={{\n            ...(input as Input),\n            ...getInputPropsForRepeatableForm(\n              input.name as string,\n              formIndex,\n              formField\n            )\n          }}\n          form={_form}\n        >\n          {component\n            ? React.createElement(\n                component as React.FunctionComponent<\n                  InputFormProps | ButtonFormProps\n                >\n              )\n            : ''}\n        </FormInput>\n      </Layout>\n    )\n  }\n\n  const renderChildren = (\n    inputs: Item[],\n    formIndex: number,\n    formField?: Record<'id', string>\n  ) => {\n    const sortedInputs = inputs.sort(\n      (i1, i2) => (i1.order || 0) - (i2.order || 0)\n    )\n    return sortedInputs.map((item, index) => {\n      // FOR CONDITIONAL RENDER\n      if (item.children && item.conditionalChildrenRender) {\n        return (\n          <React.Fragment key={`${item.name}${item.label}_${index}`}>\n            {renderInput(item as Input, formIndex, formField)}\n            {watchers[(item as Input).name as string]\n              ? renderChildren(item.children, formIndex, formField)\n              : null}\n          </React.Fragment>\n        )\n      }\n\n      // FOR DIV WRAPPERS WITH INNER CHILDRENS\n      if (item.children) {\n        const sortedInputs = item.children.sort(\n          (i1, i2) => (i1.order || 0) - (i2.order || 0)\n        )\n        return (\n          <div\n            className={classNames(\n              'jtrf-children-wrapper',\n              classes?.childrenWrapper\n            )}\n            key={`form-${index}`}\n            style={{ justifyContent: item.align || 'space-between' }}\n          >\n            {sortedInputs.map((i) => (\n              <div\n                className='jtrf-children-wrapper__child'\n                key={`form-child-${i.name}${i.label}`}\n              >\n                {renderChildren([i], formIndex, formField)}\n              </div>\n            ))}\n          </div>\n        )\n      }\n\n      // RENDER CASUAL INPUT WITHOUT CHILDRENS\n      return renderInput(item as Input, formIndex, formField)\n    })\n  }\n\n  return (\n    <div className='jtrf-form-container'>\n      <form onSubmit={onSubmit && handleSubmit(onSubmit)}>\n        {fields\n          ? fields.map((formField, index) => (\n              <div key={formField.id}>\n                {renderChildren(inputs, index, formField)}\n              </div>\n            ))\n          : renderChildren(inputs, 0)}\n      </form>\n    </div>\n  )\n}\n\nexport default React.memo(Form)\n","import classNames from 'classnames'\nimport React from 'react'\nimport { InputFormProps } from '../../types'\nimport { ReactComponent as ErrorSVG } from '../../icons/error.svg'\n\nimport './input.css'\nimport HtmlParser from '../HtmlParser'\n\ninterface Props {\n  formProps: InputFormProps\n}\n\nconst Checkbox = ({ formProps }: Props) => {\n  const { inputProps, form, classes, text } = formProps\n  const { name } = inputProps\n  const error = form.formState.errors[name]\n\n  return (\n    <div className='jtrf-input-container'>\n      <input\n        {...inputProps}\n        id={inputProps.name}\n        type='checkbox'\n        onChange={console.log}\n        className={classNames(\n          'jtrf-input-container__input',\n          'jtrf-input-container__input--checkbox',\n          classes?.input,\n          {\n            'jtrf-input-container__input---error': !!error,\n            [classes?.inputError || '']: !!error && classes?.inputError\n          }\n        )}\n      />\n      <label htmlFor={inputProps.name}>\n        <HtmlParser html={text} style={{ marginLeft: '16px' }} />\n      </label>\n      {error && (\n        <div\n          className={classNames(\n            'jtrf-input-container__error-container',\n            classes?.errorContainer\n          )}\n        >\n          <ErrorSVG\n            className={classNames(\n              'jtrf-input-container__error-icon',\n              classes?.errorIcon\n            )}\n          />\n          <span\n            className={classNames(\n              'jtrf-input-container__error-message',\n              classes?.errorMessage\n            )}\n          >\n            {error.message}\n          </span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Checkbox\n","import classNames from 'classnames'\nimport React from 'react'\nimport { ButtonFormProps } from '../../types'\ninterface Props {\n  formProps: ButtonFormProps\n}\n\nconst Button = ({ formProps }: Props) => {\n  const { buttonProps, title, classes } = formProps\n  return (\n    <button\n      {...buttonProps}\n      className={classNames('jtrf-button', classes?.button)}\n    >\n      {title}\n    </button>\n  )\n}\n\nexport default Button\n","import React from 'react'\nimport { InputFormProps } from '../../types'\nimport { ReactComponent as ErrorSVG } from '../../icons/error.svg'\nimport classNames from 'classnames'\n\nimport './input.css'\n\ninterface Props {\n  formProps: InputFormProps\n}\n\nconst TextArea = ({ formProps }: Props) => {\n  const rows = 5\n  const { inputProps, form , classes } = formProps\n  const error = form.formState.errors[inputProps.name]\n\n  return (\n    <div className='jtrf-input-container'>\n      <textarea\n        {...inputProps}\n        className={classNames(\n          'jtrf-input-container__input',\n          'jtrf-input-container__input--textarea',\n          classes?.input,\n          {\n            'jtrf-input-container__input--error': !!error,\n            [classes?.inputError || '']: !!error && classes?.inputError\n          }\n        )}\n        style={{ height: `${rows * 30}px` }}\n        rows={rows}\n      />\n      {error && (\n        <div\n          className={classNames(\n            'jtrf-input-container__error-container',\n            classes?.errorContainer\n          )}\n        >\n          <ErrorSVG\n            className={classNames(\n              'jtrf-input-container__error-icon',\n              classes?.errorIcon\n            )}\n          />\n          <span\n            className={classNames(\n              'jtrf-input-container__error-message',\n              classes?.errorMessage\n            )}\n          >\n            {error.message}\n          </span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default TextArea\n","import React from 'react'\nimport { InputFormProps } from '../../types'\nimport { ReactComponent as ErrorSVG } from '../../icons/error.svg'\nimport classNames from 'classnames'\n\nimport './input.css'\n\ninterface Props {\n  formProps: InputFormProps\n}\n\nconst DatePicker = ({ formProps }: Props) => {\n  const { inputProps, form, classes } = formProps\n  const { name } = inputProps\n  const error = form.formState.errors[name]\n\n  return (\n    <div className='jtrf-input-container'>\n      <input\n        {...inputProps}\n        className={classNames(\n          'jtrf-input-container__input',\n          'jtrf-input-container__input--datepicker',\n          classes?.input,\n          {\n            'jtrf-input-container__input--error': !!error,\n            [classes?.inputError || '']: !!error && classes?.inputError\n          }\n        )}\n      />\n      {error && (\n        <div\n          className={classNames(\n            'jtrf-input-container__error-container',\n            classes?.errorContainer\n          )}\n        >\n          <ErrorSVG\n            className={classNames(\n              'jtrf-input-container__error-icon',\n              classes?.errorIcon\n            )}\n          />\n          <span\n            className={classNames(\n              'jtrf-input-container__error-message',\n              classes?.errorMessage\n            )}\n          >\n            {error.message}\n          </span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default DatePicker\n","import * as React from 'react'\nimport { FieldValues, UseFormReturn } from 'react-hook-form'\nimport GeneratedForm from './components/form/Form'\nimport { Components, Item } from './types'\n\nexport { InputFormProps, ButtonFormProps, Components } from './types'\nexport { LayoutProps } from './components/form/FormLayout'\n\ninterface Props {\n  layout?: [number, number]\n  inputs: Item[]\n  fields?: Record<'id', string>[]\n  onSubmit?: (value: any) => void\n  components?: Components\n  onButtonClick?: (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    name: string\n  ) => void\n  form?: UseFormReturn<FieldValues>\n  layoutComponent?: React.FunctionComponent<any>\n  formName?: string\n  onInputChange?: (checked: boolean | number | string, name: string) => void\n  validationMode?: 'onBlur' | 'onChange' | 'onSubmit' | 'onTouched' | 'all'\n}\n\nconst Form = ({\n  layout = [3, 7],\n  inputs,\n  fields,\n  onSubmit,\n  components,\n  onButtonClick,\n  validationMode,\n  onInputChange,\n  layoutComponent,\n  form,\n  formName\n}: Props) => {\n  return (\n    <GeneratedForm\n      layout={layout}\n      inputs={inputs}\n      fields={fields}\n      onSubmit={onSubmit}\n      components={components}\n      onButtonClick={onButtonClick}\n      onInputChange={onInputChange}\n      validationMode={validationMode}\n      layoutComponent={layoutComponent}\n      form={form}\n      formName={formName}\n    />\n  )\n}\n\nexport default Form\n","import React from 'react'\n\nimport Form from 'json-to-react-form'\nimport 'json-to-react-form/dist/index.css'\nimport basicValidationInputs from './forms/basicValidationForm.json';\n\nconst App = () => {\n  return <Form layout={[3,7]} inputs={basicValidationInputs} onSubmit={console.log}/>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}